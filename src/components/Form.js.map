{"version":3,"sources":["../../../server/src/components/Form.js"],"names":["Form","state","topic","startYear","endYear","saved","handleChange","key","event","target","value","setState","handleSubmit","preventDefault","console","log","deleteArticle","articleID","getSaved","then","response","data","map","item","_id","url","title","date"],"mappings":"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","file":"Form.js","sourcesContent":["import React, {Component} from 'react';\nimport {Link, Route} from 'react-router-dom';\n\n\nimport Results from './Results';\nimport helpers from '../utils/helpers';\n\nclass Form extends Component {\n\n  state = {\n    topic: '',\n    startYear: '',\n    endYear: '',\n    saved: []\n  };\n\n  // The moment the page renders get the saved articles\n  componentDidMount() {\n    // Get saved articles.\n    helpers.getSaved().then((response) => {\n      console.log(response);\n      if (response !== this.state.saved) {\n        console.log('saved', response.data);\n        this.setState({saved: response.data});\n      }\n    }); //.bind(this)\n  }\n\n  handleChange = (key) => {\n    return (event) => {\n      let state = {};\n      state[key] = event.target.value;\n      this.setState(state);\n    }\n  };\n\n\n  // When a user submits...\n  handleSubmit = (event) => {\n    // prevent the HTML from trying to submit a form if the user hits \"Enter\" instead of\n    // clicking the button\n    event.preventDefault();\n\n    console.log('submit');\n    console.log(this.state);\n  };\n\n  // delete articles\n  deleteArticle = (articleID) => {\n    console.log(articleID);\n    helpers.deleteArticle(articleID);\n  };\n\n\n  render() {\n    return (\n      <div className=\"container\">\n\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"form-group\">\n              <h4 className=\"\">\n                <strong>Topic</strong>\n              </h4>\n              {/*\n               Note how each of the form elements has an id that matches the state.\n               This is not necessary but it is convenient.\n               Also note how each has an onChange event associated with our handleChange event.\n               */}\n              <input\n                value={this.state.topic}\n                type=\"text\"\n                className=\"form-control\"\n                id=\"topic\"\n                onChange={this.handleChange('topic')}\n                required\n              />\n\n              <h4>\n                <strong>Start Date</strong>\n              </h4>\n              <input\n                value={this.state.startYear}\n                type=\"date\"\n                className=\"form-control\"\n                id=\"start-Year\"\n                onChange={this.handleChange('startYear')}\n                required pattern=\"[0-9]{4}-[0-9]{2}-[0-9]{2}\"\n              />\n\n              <h4>\n                <strong>End Date</strong>\n              </h4>\n              <input\n                value={this.state.endYear}\n                type=\"date\"\n                className=\"form-control\"\n                id=\"end-Year\"\n                onChange={this.handleChange('endYear')}\n                required pattern=\"[0-9]{4}-[0-9]{2}-[0-9]{2}\"\n              />\n            </div>\n            <div>\n              <Link to=\"/results\">\n                <button\n                  className=\"btn btn-primary\"\n                  type=\"submit\"\n                >\n                  Submit\n                </button>\n              </Link>\n\n            </div>\n          </form>\n\n        {/*Results component*/}\n\n        <Route path=\"/results\" render={props => (\n          <Results\n            searchTerm={this.state}\n          />\n        )}/>\n\n\n        {/*Show saved articles*/}\n\n        <div className=\"row\">\n          <h2>Saved Articles</h2>\n\n          <ul className=\"list-group\">\n            {this.state.saved.map(item => (\n              <li key={item._id} className=\"list-group-item\">\n                {item.url}\n                <hr/>\n                {item.title}\n                <button\n                  className=\"btn btn-danger\"\n                  type=\"button\"\n                  onClick={() => {\n                    this.deleteArticle(item._id)\n                  }}\n                >\n                  delete\n                </button>\n                <hr/>\n                {item.date}\n              </li>\n            ))}\n          </ul>\n\n\n        </div>\n\n\n      </div>\n    );\n  }\n}\n\nexport default Form;\n\n\n"]}
{"version":3,"sources":["../../../server/src/utils/helpers.js"],"names":["authKey","helper","runQuery","articles","console","log","topic","startYear","endYear","searchTerm","replace","queryURL","get","then","response","responseArray","data","docs","getSaved","postArticle","post","deleteArticle","articleID"],"mappings":";;;;;;AAAA;;;;;;AACA;AACA,IAAMA,UAAU,kCAAhB;;AAEA,IAAIC,SAAS;AACXC,UADW,oBACFC,QADE,EACQ;AACjBC,YAAQC,GAAR,CAAY,qBAAqBF,SAASG,KAA1C;AACAF,YAAQC,GAAR,CAAY,qBAAqBF,SAASI,SAA1C;AACAH,YAAQC,GAAR,CAAY,mBAAmBF,SAASK,OAAxC;;AAEA,QAAIC,aAAaN,SAASG,KAA1B;AACA,QAAIC,YAAYJ,SAASI,SAAT,CAAmBG,OAAnB,CAA2B,IAA3B,EAAiC,EAAjC,CAAhB;AACA,QAAIF,UAAUL,SAASK,OAAT,CAAiBE,OAAjB,CAAyB,IAAzB,EAA+B,EAA/B,CAAd;;AAEA;;AAEA,QAAMC,WAAW,2CACf,6BADe,GAEfX,OAFe,GAEL,KAFK,GAEGS,UAFH,GAEgB,cAFhB,GAEiCF,SAFjC,GAE6C,YAF7C,GAGfC,OAHF;;AAKAJ,YAAQC,GAAR,CAAY,cAAcM,QAA1B;;AAGA,WAAO,gBAAMC,GAAN,CAAUD,QAAV,EAAoBE,IAApB,CAAyB,UAACC,QAAD,EAAc;AAC5C,UAAIA,QAAJ,EAAc;AACdV,gBAAQC,GAAR,CAAY,cAAcS,QAA1B;AACA,YAAIC,gBAAgBD,SAASE,IAAT,CAAcF,QAAd,CAAuBG,IAA3C;AACA,eAAOF,aAAP;AACC;AACD;AACA,aAAO,EAAP;AACD,KARM,CAAP;AASD,GA7BU;AA8BXG,UA9BW,sBA8BD;AACR,WAAO,gBAAMN,GAAN,CAAU,MAAV,CAAP;AACD,GAhCU;AAiCXO,aAjCW,uBAiCCH,IAjCD,EAiCM;AACf,WAAO,gBAAMI,IAAN,CAAW,MAAX,EAAmBJ,IAAnB,CAAP;AACD,GAnCU;AAoCXK,eApCW,yBAoCGC,SApCH,EAoCa;AACtBlB,YAAQC,GAAR,CAAY,mBAAmBiB,SAA/B;AACA,WAAO,gBAAMF,IAAN,CAAW,qBAAX,EAAkC,EAACE,oBAAD,EAAlC,CAAP;AACD;AAvCU,CAAb;;kBA0CerB,M","file":"helpers.js","sourcesContent":["import axios from 'axios';\n// New York Times authKey\nconst authKey = 'aab61f8cd4e7499e858933618e21cebd';\n\nlet helper = {\n  runQuery(articles) {\n    console.log('run query topic ' + articles.topic);\n    console.log('run query start ' + articles.startYear);\n    console.log('run query end ' + articles.endYear);\n\n    let searchTerm = articles.topic;\n    let startYear = articles.startYear.replace(/-/g, \"\");\n    let endYear = articles.endYear.replace(/-/g, \"\");\n\n    // Figure out the geolocation\n\n    const queryURL = \"https://api.nytimes.com/svc/search/v2/\" +\n      \"articlesearch.json?api-key=\" +\n      authKey + \"&q=\" + searchTerm + \"&begin_date=\" + startYear + \"&end_date=\" +\n      endYear;\n\n    console.log('queryURL ' + queryURL);\n\n\n    return axios.get(queryURL).then((response) => {\n      if (response) {\n      console.log(\"response \" + response);\n      let responseArray = response.data.response.docs;\n      return responseArray;\n      }\n      // If we don't get any results, return an empty string\n      return '';\n    });\n  },\n  getSaved(){\n    return axios.get('/api');\n  },\n  postArticle(data){\n    return axios.post('/api', data);\n  },\n  deleteArticle(articleID){\n    console.log(\"helper delete \" + articleID);\n    return axios.post('/api?_method=DELETE', {articleID});\n  }\n};\n\nexport default helper;"]}